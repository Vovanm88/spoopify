# Техническое задание: Музыкальный рекомендательный сервис

## 1. Архитектура системы
### 1.1 Бэкенд (микросервисная архитектура)
#### Сервис авторизации и управления пользователями (Spring Boot)
- Управление пользователями (регистрация, авторизация)
  - `AuthController`: Контроллер для обработки запросов на авторизацию, регистрацию и управление профилем пользователя.
  - `UserService`: Сервис для работы с пользователями (CRUD операции, проверка авторизации и т.д.).
  - `UserRepository`: Репозиторий для взаимодействия с таблицей пользователей в базе данных.
- Административная панель
  - `AdminController`: Контроллер для обработки запросов к административной панели (управление пользователями, статистикой и т.д.).
  - `AdminService`: Сервис для предоставления функциональности административной панели.
- API для фронтенд-части
  - `ApiController`: Контроллер для обработки запросов от фронтенда (получение списка песен, отправка лайков/дизлайков и т.д.).
  - `SongService`: Сервис для работы с песнями (CRUD операции, получение рекомендаций и т.д.).
  - `RecommendationService`: Сервис для взаимодействия с микросервисом рекомендаций на Python.
- Управление статистикой

#### Сервис рекомендаций (Python)
- Обработка пользовательских предпочтений (лайки/дизлайки)
- Генерация рекомендаций
- Выдача случайных треков
- Подготовка к внедрению рекомендательной системы

### 1.2 База данных
#### PostgreSQL
##### Основные таблицы:
1. Users
   - id (PK)
   - username
   - login
   - password_hash
   - session_token
   - role (admin/user)

2. Songs
   - id (PK)
   - title
   - artist
   - album
   - description
   - s3_bucket
   - s3_file_path

3. UserLikedSongs
   - user_id (FK)
   - song_id (FK)

4. UserDislikedSongs
   - user_id (FK)
   - song_id (FK)

5. UserVectors
   - user_id (FK)
   - vector_data (использование PostgreSQL vector extension)

6. SongVectors
   - song_id (FK)
   - vector_data (использование PostgreSQL vector extension)

#### Внешнее хранилище
- Amazon S3 для хранения аудиофайлов
